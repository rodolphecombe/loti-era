#textdomain wesnoth-loti-era
#define MISSILE_FRAME_DARKNESS_BEAM
	[if]
		direction=n,ne,nw
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-1.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-2.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-3.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-4.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-5.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-6.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=130
			halo="halo/darkness-beam-7.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-6.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-5.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-4.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-3.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-2.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-1.png"
			offset=1.0
		[/missile_frame]
	[/if]
	[else]
		direction=s,se,sw
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-1.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-2.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-3.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-4.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-5.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/darkness-beam-6.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=130
			halo="halo/darkness-beam-7.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-6.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-5.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-4.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-3.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-2.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/darkness-beam-1.png~FL(vert)"
			offset=1.0
		[/missile_frame]
	[/else]
#enddef
#define MISSILE_FRAME_FIRE_BEAM
	[if]
		direction=n,ne,nw
		[missile_frame]
			duration=30
			halo="halo/fire-beam-1.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=40
			halo="halo/fire-beam-2.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=50
			halo="halo/fire-beam-3.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=60
			halo="halo/fire-beam-4.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/fire-beam-5.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=80
			halo="halo/fire-beam-6.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=90
			halo="halo/fire-beam-7.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=80
			halo="halo/fire-beam-8.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/fire-beam-9.png"
			offset=1.0
		[/missile_frame]
	[/if]
	[else]
		direction=s,se,sw
		[missile_frame]
			duration=30
			halo="halo/fire-beam-1.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=40
			halo="halo/fire-beam-2.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=50
			halo="halo/fire-beam-3.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=60
			halo="halo/fire-beam-4.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/fire-beam-5.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=80
			halo="halo/fire-beam-6.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=90
			halo="halo/fire-beam-7.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=80
			halo="halo/fire-beam-8.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/fire-beam-9.png~FL(vert)"
			offset=1.0
		[/missile_frame]
	[/else]
#enddef
#define MISSILE_FRAME_ICE_BEAM
	[if]
		direction=n,ne,nw
		[missile_frame]
			duration=30
			halo="halo/ice-beam-1.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-2.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-3.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-4.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-5.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-6.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=130
			halo="halo/ice-beam-7.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-6.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-5.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-4.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-3.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-2.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-1.png"
			offset=1.0
		[/missile_frame]
	[/if]
	[else]
		direction=s,se,sw
		[missile_frame]
			duration=30
			halo="halo/ice-beam-1.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-2.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-3.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-4.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-5.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/ice-beam-6.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=130
			halo="halo/ice-beam-7.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-6.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-5.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-4.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-3.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-2.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/ice-beam-1.png~FL(vert)"
			offset=1.0
		[/missile_frame]
	[/else]
#enddef
#define PRE_TELEPORT_ANIM
	[animation]
		apply_to=pre_teleport

		start_time=-1200

		teleport_sparkle_1_start_time=-1200
		teleport_sparkle_2_start_time=-1000
		teleport_sparkle_3_start_time=-800

		[teleport_sparkle_1_frame]
			duration=800
			halo=misc/blank-hex.png:1,halo/teleport-9.png,halo/teleport-8.png,halo/teleport-1.png,halo/teleport-2.png,halo/teleport-3.png,halo/teleport-4.png,halo/teleport-5.png,halo/teleport-6.png,halo/teleport-7.png,halo/teleport-8.png,halo/teleport-9.png,misc/blank-hex.png:1
			halo_x=-10
			halo_y=30~-30
		[/teleport_sparkle_1_frame]
		[teleport_sparkle_2_frame]
			duration=800
			halo=misc/blank-hex.png:1,halo/teleport-9.png,halo/teleport-8.png,halo/teleport-1.png,halo/teleport-2.png,halo/teleport-3.png,halo/teleport-4.png,halo/teleport-5.png,halo/teleport-6.png,halo/teleport-7.png,halo/teleport-8.png,halo/teleport-9.png,misc/blank-hex.png:1
			halo_x=0
			halo_y=40~-40
		[/teleport_sparkle_2_frame]
		[teleport_sparkle_3_frame]
			duration=800
			halo=misc/blank-hex.png:1,halo/teleport-9.png,halo/teleport-8.png,halo/teleport-1.png,halo/teleport-2.png,halo/teleport-3.png,halo/teleport-4.png,halo/teleport-5.png,halo/teleport-6.png,halo/teleport-7.png,halo/teleport-8.png,halo/teleport-9.png,misc/blank-hex.png:1
			halo_x=10
			halo_y=30~-30
		[/teleport_sparkle_3_frame]

		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-0.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-1.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-2.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-3.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-4.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-5.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-6.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-7.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-8.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-9.png)
		[/frame]
		[frame]
			duration=200
			image="misc/blank-hex.png"
		[/frame]
	[/animation]
#enddef

#define POST_TELEPORT_ANIM
	[animation]
		apply_to=post_teleport
		start_time=-1200

		teleport_sparkle_1_start_time=-1200
		teleport_sparkle_2_start_time=-1000
		teleport_sparkle_3_start_time=-800

		[teleport_sparkle_1_frame]
			duration=800
			halo=misc/blank-hex.png:1,halo/teleport-9.png,halo/teleport-8.png,halo/teleport-1.png,halo/teleport-2.png,halo/teleport-3.png,halo/teleport-4.png,halo/teleport-5.png,halo/teleport-6.png,halo/teleport-7.png,halo/teleport-8.png,halo/teleport-9.png,misc/blank-hex.png:1
			halo_x=10
			halo_y=-30~30
		[/teleport_sparkle_1_frame]
		[teleport_sparkle_2_frame]
			duration=800
			halo=misc/blank-hex.png:1,halo/teleport-9.png,halo/teleport-8.png,halo/teleport-1.png,halo/teleport-2.png,halo/teleport-3.png,halo/teleport-4.png,halo/teleport-5.png,halo/teleport-6.png,halo/teleport-7.png,halo/teleport-8.png,halo/teleport-9.png,misc/blank-hex.png:1
			halo_x=0
			halo_y=-40~40
		[/teleport_sparkle_2_frame]
		[teleport_sparkle_3_frame]
			duration=800
			halo=misc/blank-hex.png:1,halo/teleport-9.png,halo/teleport-8.png,halo/teleport-1.png,halo/teleport-2.png,halo/teleport-3.png,halo/teleport-4.png,halo/teleport-5.png,halo/teleport-6.png,halo/teleport-7.png,halo/teleport-8.png,halo/teleport-9.png,misc/blank-hex.png:1
			halo_x=-10
			halo_y=-30~30
		[/teleport_sparkle_3_frame]
		[frame]
			duration=200
			image="misc/blank-hex.png"
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-9.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-8.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-7.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-6.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-5.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-4.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-3.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-2.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-1.png)
		[/frame]
		[frame]
			duration=100
			image_mod=~MASK(masks/teleport-mask-0.png)
		[/frame]
	[/animation]
#enddef
#define MISSILE_FRAME_FAERIE_FIRE_BACKWARDS
	[missile_frame]
		begin=-500
		end=-350
		image="projectiles/icemissile-n-1.png"
		image_diagonal="projectiles/icemissile-ne-1.png"
		halo=halo/elven/ice-halo1.png:100,halo/elven/ice-halo2.png:100,halo/elven/ice-halo3.png:25
		halo_x,halo_y=0,0
		offset=1.0~0.7
	[/missile_frame]
	[missile_frame]
		begin=-350
		end=-200
		image="projectiles/icemissile-n-2.png"
		image_diagonal="projectiles/icemissile-ne-2.png"
		halo=halo/elven/ice-halo3.png:75,halo/elven/ice-halo4.png:75
		halo_x,halo_y=0,0
		offset=0.7~0.4
	[/missile_frame]
	[missile_frame]
		begin=-200
		end=-50
		image="projectiles/icemissile-n-3.png"
		image_diagonal="projectiles/icemissile-ne-3.png"
		halo=halo/elven/ice-halo5.png:100,halo/elven/ice-halo1.png:100,halo/elven/ice-halo2.png:50
		halo_x,halo_y=0,0
		offset=0.4~0.2
	[/missile_frame]
	[missile_frame]
		begin=-50
		end=0
		image="projectiles/icemissile-n-4.png"
		image_diagonal="projectiles/icemissile-ne-4.png"
		halo=halo/elven/ice-halo6.png
		halo_x,halo_y=0,0
		offset=0.2~0.15
	[/missile_frame]
	[missile_frame]
		begin=25
		end=75
		image="projectiles/icemissile-n-5.png"
		image_diagonal="projectiles/icemissile-ne-5.png"
		halo=halo/elven/ice-halo7.png
		halo_x,halo_y=0,0
		offset=0.15~0.1
	[/missile_frame]
	[missile_frame]
		begin=75
		end=125
		image="projectiles/icemissile-n-6.png"
		image_diagonal="projectiles/icemissile-ne-6.png"
		halo=halo/elven/ice-halo8.png
		halo_x,halo_y=0,0
		offset=0.1~0.05
	[/missile_frame]
	[missile_frame]
		begin=125
		end=175
		image="projectiles/icemissile-n-7.png"
		image_diagonal="projectiles/icemissile-ne-7.png"
		halo=halo/elven/ice-halo9.png
		halo_x,halo_y=0,0
		offset=0.05~0.0
	[/missile_frame]
#enddef
#define MISSILE_FRAME_FIREBLAST

	missile_start_time=-350

	[missile_frame]
		duration=100
		image="projectiles/fireblast-n-1.png"
		image_diagonal="projectiles/fireblast-nw-1.png"
		offset=0.0
		alpha=0.8
	[/missile_frame]
	[missile_frame]
		duration=100
		image="projectiles/fireblast-n-2.png"
		image_diagonal="projectiles/fireblast-nw-2.png"
		offset=0
		alpha=0.83
	[/missile_frame]
	[missile_frame]
		duration=125
		image="projectiles/fireblast-n-3.png"
		image_diagonal="projectiles/fireblast-nw-3.png"
		offset=0
		alpha=0.85
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/fireblast-n-4.png"
		image_diagonal="projectiles/fireblast-nw-4.png"
		offset=0
		alpha=0.88
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/fireblast-n-5.png"
		image_diagonal="projectiles/fireblast-nw-5.png"
		offset=0
		alpha=0.85
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/fireblast-n-6.png"
		image_diagonal="projectiles/fireblast-nw-6.png"
		offset=0
		alpha=0.8
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/fireblast-n-7.png"
		image_diagonal="projectiles/fireblast-nw-7.png"
		offset=0
		alpha=0.6
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/fireblast-n-8.png"
		image_diagonal="projectiles/fireblast-nw-8.png"
		offset=0
		alpha=0.35
	[/missile_frame]
#enddef
#define MISSILE_FRAME_ARCTICBLAST

	missile_start_time=-350

	[missile_frame]
		duration=100
		image="projectiles/arcticblast-n-1.png"
		image_diagonal="projectiles/arcticblast-nw-1.png"
		offset=0.0
		alpha=0.7
	[/missile_frame]
	[missile_frame]
		duration=100
		image="projectiles/arcticblast-n-2.png"
		image_diagonal="projectiles/arcticblast-nw-2.png"
		offset=0
		alpha=0.75
	[/missile_frame]
	[missile_frame]
		duration=125
		image="projectiles/arcticblast-n-3.png"
		image_diagonal="projectiles/arcticblast-nw-3.png"
		offset=0
		alpha=0.8
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/arcticblast-n-4.png"
		image_diagonal="projectiles/arcticblast-nw-4.png"
		offset=0
		alpha=0.8
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/arcticblast-n-5.png"
		image_diagonal="projectiles/arcticblast-nw-5.png"
		offset=0
		alpha=0.7
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/arcticblast-n-6.png"
		image_diagonal="projectiles/arcticblast-nw-6.png"
		offset=0
		alpha=0.6
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/arcticblast-n-7.png"
		image_diagonal="projectiles/arcticblast-nw-7.png"
		offset=0
		alpha=0.5
	[/missile_frame]
	[missile_frame]
		duration=55
		image="projectiles/arcticblast-n-8.png"
		image_diagonal="projectiles/arcticblast-nw-8.png"
		offset=0
		alpha=0.35
	[/missile_frame]
#enddef
#define MISSILE_FRAME_BLIZZARD

	missile_start_time=-500
	crystals_start_time=-300
	[if]
		direction=n,ne,nw
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(30%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-2.png
			offset=0
			halo_mod="~O(60%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-3.png
			offset=0
			halo_mod="~O(70%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(75%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-2.png
			offset=0
			halo_mod="~O(70%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-3.png
			offset=0
			halo_mod="~O(65%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(60%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-2.png
			offset=0
			halo_mod="~O(50%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-3.png
			offset=0
			halo_mod="~O(35%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(20%)"
		[/missile_frame]
		[crystals_frame]
			duration=100
			halo="misc/blank-hex.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=100
			halo="halo/crystals-1.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=100
			halo="halo/crystals-2.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=150
			halo="halo/crystals-3.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=200
			halo="halo/crystals-4.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=200
			halo="halo/crystals-5.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=50
			halo="halo/crystals-4.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=50
			halo="halo/crystals-3.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=50
			halo="halo/crystals-2.png"
			offset=0
		[/crystals_frame]
	[/if]
	[else]
		direction=s,se,sw
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(30%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-2.png~FL(vert)"
			offset=0
			halo_mod="~O(60%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-3.png~FL(vert)"
			offset=0
			halo_mod="~O(70%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(75%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-2.png~FL(vert)"
			offset=0
			halo_mod="~O(70%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-3.png~FL(vert)"
			offset=0
			halo_mod="~O(65%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(60%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-2.png~FL(vert)"
			offset=0
			halo_mod="~O(50%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-3.png~FL(vert)"
			offset=0
			halo_mod="~O(35%)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(20%)"
		[/missile_frame]
		[crystals_frame]
			duration=100
			halo="misc/blank-hex.png"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=100
			halo="halo/crystals-1.png~FL(vert)"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=100
			halo="halo/crystals-2.png~FL(vert)"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=150
			halo="halo/crystals-3.png~FL(vert)"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=200
			halo="halo/crystals-4.png~FL(vert)"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=200
			halo="halo/crystals-5.png~FL(vert)"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=50
			halo="halo/crystals-4.png~FL(vert)"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=50
			halo="halo/crystals-3.png~FL(vert)"
			offset=0
		[/crystals_frame]
		[crystals_frame]
			duration=50
			halo="halo/crystals-2.png~FL(vert)"
			offset=0
		[/crystals_frame]
	[/else]

#enddef
#define MISSILE_FRAME_PARTICLE_STORM

	missile_start_time=-500
	lightning3_start_time=-200
	lightning_start_time=-100
	lightning2_start_time=0
	lightning4_start_time=100
	meteor1_start_time=-350
	meteor2_start_time=-150
	[if]
		direction=n,ne,nw
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(20%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-2.png
			offset=0
			halo_mod="~O(30%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-3.png
			offset=0
			halo_mod="~O(40%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(50%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-2.png
			offset=0
			halo_mod="~O(50%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-3.png
			offset=0
			halo_mod="~O(45%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(30%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-2.png
			offset=0
			halo_mod="~O(35%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-3.png
			offset=0
			halo_mod="~O(30%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo=halo/blizzard-1.png
			offset=0
			halo_mod="~O(20%)~CS(0,-255,-255)"
		[/missile_frame]
		[lightning_frame]
			duration=400
			halo=halo/lightning-bolt-1-1.png:50,halo/lightning-bolt-1-2.png:50,halo/lightning-bolt-1-3.png:50,halo/lightning-bolt-1-4.png:50
			halo_mod=~CS(200,-150,-200)
			offset=0
			halo_x=40
			halo_y=-45
		[/lightning_frame]
		[lightning2_frame]
			duration=400
			halo=halo/lightning-bolt-2-1.png:50,halo/lightning-bolt-2-2.png:50,halo/lightning-bolt-2-3.png:50,halo/lightning-bolt-2-4.png:50
			halo_mod=~CS(200,-150,-200)
			offset=0
			halo_x=-30
			halo_y=10
		[/lightning2_frame]
		[lightning3_frame]
			duration=400
			halo=halo/lightning-bolt-3-1.png:50,halo/lightning-bolt-3-2.png:50,halo/lightning-bolt-3-3.png:50,halo/lightning-bolt-3-4.png:50
			halo_mod=~CS(200,-150,-200)
			offset=0
			halo_x=60
			halo_y=30
		[/lightning3_frame]
		[lightning4_frame]
			duration=400
			halo=halo/lightning-bolt-1-1.png:50,halo/lightning-bolt-1-2.png:50,halo/lightning-bolt-1-3.png:50,halo/lightning-bolt-1-4.png:50
			halo_mod=~CS(200,-150,-200)
			offset=0
			halo_x=20
			halo_y=-30
		[/lightning4_frame]
		[meteor1_frame]
			duration=1
			halo="misc/blank-hex.png"
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-1.png"
			halo_x=-50
			halo_y=-20
			halo_mod=~CS(-150,-50,120)
			offset=0
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-2.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod=~CS(-150,-50,120)
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-3.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod=~CS(-150,-50,120)
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-4.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod=~CS(-150,-50,120)
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-5.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod=~CS(-150,-50,120)
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-6.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod=~CS(-150,-50,120)
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-7.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod="~O(80%)~CS(-150,-50,120)"
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-8.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod="~O(60%)~CS(-150,-50,120)"
		[/meteor1_frame]
		[meteor1_frame]
			duration=100
			halo="halo/meteor-9.png"
			offset=0
			halo_x=-50
			halo_y=-20
			halo_mod="~O(30%)~CS(-150,-50,120)"
		[/meteor1_frame]
		[meteor2_frame]
			duration=1
			halo="misc/blank-hex.png"
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-1.png"
			halo_x=-20
			halo_y=40
			halo_mod=~CS(-150,-50,120)
			offset=0
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-2.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod=~CS(-150,-50,120)
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-3.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod=~CS(-150,-50,120)
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-4.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod=~CS(-150,-50,120)
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-5.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod=~CS(-150,-50,120)
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-6.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod=~CS(-150,-50,120)
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-7.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod="~O(80%)~CS(-150,-50,120)"
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-8.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod="~O(60%)~CS(-150,-50,120)"
		[/meteor2_frame]
		[meteor2_frame]
			duration=100
			halo="halo/meteor-9.png"
			offset=0
			halo_x=-20
			halo_y=40
			halo_mod="~O(30%)~CS(-150,-50,120)"
		[/meteor2_frame]
	[/if]
	[else]
		direction=s,se,sw
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(20%~CS(0,-255,-255))"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-2.png~FL(vert)"
			offset=0
			halo_mod="~O(30%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-3.png~FL(vert)"
			offset=0
			halo_mod="~O(40%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(50%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-2.png~FL(vert)"
			offset=0
			halo_mod="~O(50%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-3.png~FL(vert)"
			offset=0
			halo_mod="~O(45%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(40%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-2.png~FL(vert)"
			offset=0
			halo_mod="~O(35%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-3.png~FL(vert)"
			offset=0
			halo_mod="~O(30%)~CS(0,-255,-255)"
		[/missile_frame]
		[missile_frame]
			duration=100
			halo="halo/blizzard-1.png~FL(vert)"
			offset=0
			halo_mod="~O(20%)~CS(0,-255,-255)"
		[/missile_frame]
		[lightning_frame]
			duration=400
			halo=halo/lightning-bolt-1-1.png~FL(vert):50,halo/lightning-bolt-1-2.png~FL(vert):50,halo/lightning-bolt-1-3.png~FL(vert):50,halo/lightning-bolt-1-4.png~FL(vert):50
			halo_mod=~CS(200,-150,-200)
			halo_y=-125
			offset=0
			halo_x=40
			halo_y=-45
		[/lightning_frame]
		[lightning2_frame]
			duration=400
			halo=halo/lightning-bolt-2-1.png~FL(vert):50,halo/lightning-bolt-2-2.png~FL(vert):50,halo/lightning-bolt-2-3.png~FL(vert):50,halo/lightning-bolt-2-4.png~FL(vert):50
			halo_mod=~CS(200,-150,-200)
			halo_y=-125
			offset=0
			halo_x=-30
			halo_y=30
		[/lightning2_frame]
		[lightning3_frame]
			duration=400
			halo=halo/lightning-bolt-3-1.png~FL(vert):50,halo/lightning-bolt-3-2.png~FL(vert):50,halo/lightning-bolt-3-3.png~FL(vert):50,halo/lightning-bolt-3-4.png~FL(vert):50
			halo_mod=~CS(200,-150,-200)
			offset=0
			halo_x=60
			halo_y=10
		[/lightning3_frame]
		[lightning4_frame]
			duration=400
			halo=halo/lightning-bolt-1-1.png:50,halo/lightning-bolt-1-2.png:50,halo/lightning-bolt-1-3.png:50,halo/lightning-bolt-1-4.png:50
			halo_mod=~CS(200,-150,-200)~FL(vert)
			offset=0
			halo_x=20
			halo_y=-30
		[/lightning4_frame]
	[/else]

#enddef
#define RED_LIGHTNING_BOLT DIRECTION_NUMBER
	[if]
		direction=sw,s,se

		[missile_frame]
			begin=-250
			end=150
			halo=halo/lightning-bolt-{DIRECTION_NUMBER}-1.png:100,halo/lightning-bolt-{DIRECTION_NUMBER}-2.png:100,halo/lightning-bolt-{DIRECTION_NUMBER}-3.png:100,halo/lightning-bolt-{DIRECTION_NUMBER}-4.png:100
			halo_mod=~CS(200,-150,-200)~FL(vert)
			halo_y=-125
			offset=1.0
		[/missile_frame]
	[/if]
	[else]
		direction=nw,n,ne

		[missile_frame]
			begin=-250
			end=150
			halo=halo/lightning-bolt-{DIRECTION_NUMBER}-1.png:100,halo/lightning-bolt-{DIRECTION_NUMBER}-2.png:100,halo/lightning-bolt-{DIRECTION_NUMBER}-3.png:100,halo/lightning-bolt-{DIRECTION_NUMBER}-4.png:100
			halo_mod=~CS(200,-150,-200)
			halo_y=-125
			offset=1.0
		[/missile_frame]
	[/else]
#enddef

#define MISSILE_FRAME_CHAOSBEAM
	missile_start_time=-245
	missile2_start_time=-400
	missile3_start_time=-350
	missile4_start_time=-300

	[if]
		direction=n,ne,nw

		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-1.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-2.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-3.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-4.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-5.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-6.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=130
			halo="halo/holy/light-beam-7.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-6.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-5.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-4.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-3.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-2.png"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-1.png"
			offset=1.0
		[/missile_frame]
		[missile2_frame]
			duration=30
			halo="halo/fire-beam-1.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=40
			halo="halo/fire-beam-2.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=50
			halo="halo/fire-beam-3.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=60
			halo="halo/fire-beam-4.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=70
			halo="halo/fire-beam-5.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=80
			halo="halo/fire-beam-6.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=90
			halo="halo/fire-beam-7.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=80
			halo="halo/fire-beam-8.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=70
			halo="halo/fire-beam-9.png"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-1.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-2.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-3.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-4.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-5.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-6.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=130
			halo="halo/darkness-beam-7.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-6.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-5.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-4.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-3.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-2.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-1.png"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-1.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-2.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-3.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-4.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-5.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-6.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=130
			halo="halo/ice-beam-7.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-6.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-5.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-4.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-3.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-2.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-1.png"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
	[/if]
	[else]
		direction=s,se,sw

		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-1.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-2.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-3.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-4.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-5.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=30
			halo="halo/holy/light-beam-6.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=130
			halo="halo/holy/light-beam-7.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-6.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-5.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-4.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-3.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-2.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile_frame]
			duration=70
			halo="halo/holy/light-beam-1.png~FL(vert)"
			offset=1.0
		[/missile_frame]
		[missile2_frame]
			duration=30
			halo="halo/fire-beam-1.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=40
			halo="halo/fire-beam-2.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=50
			halo="halo/fire-beam-3.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=60
			halo="halo/fire-beam-4.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=70
			halo="halo/fire-beam-5.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=80
			halo="halo/fire-beam-6.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=90
			halo="halo/fire-beam-7.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=80
			halo="halo/fire-beam-8.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile2_frame]
			duration=70
			halo="halo/fire-beam-9.png~FL(vert)"
			offset=1.0
			halo_x=20
			halo_y=10
		[/missile2_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-1.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-2.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-3.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-4.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-5.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=30
			halo="halo/darkness-beam-6.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=130
			halo="halo/darkness-beam-7.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-6.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-5.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-4.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-3.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-2.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile3_frame]
			duration=70
			halo="halo/darkness-beam-1.png~FL(vert)"
			offset=1.0
			halo_y=-20
		[/missile3_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-1.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-2.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-3.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-4.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-5.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=30
			halo="halo/ice-beam-6.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=130
			halo="halo/ice-beam-7.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-6.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-5.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-4.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-3.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-2.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
		[missile4_frame]
			duration=70
			halo="halo/ice-beam-1.png~FL(vert)"
			offset=1.0
			halo_x=-20
		[/missile4_frame]
	[/else]

#enddef
#define METEOR_FRAME_INIT NAME START_TIME X Y
	{NAME}_start_time={START_TIME}
#enddef
#define METEOR_FRAME_NORMAL NAME START_TIME X Y
	[{NAME}_frame]
		duration=1
		halo="misc/blank-hex.png"
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-1.png"
		halo_x={X}
		halo_y={Y}
		offset=0
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-2.png"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-3.png"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-4.png"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-5.png"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-6.png"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-7.png"
		offset=0
		halo_x={X}
		halo_y={Y}
		halo_mod="~O(80%)"
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-8.png"
		offset=0
		halo_x={X}
		halo_y={Y}
		halo_mod="~O(60%)"
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-9.png"
		offset=0
		halo_x={X}
		halo_y={Y}
		halo_mod="~O(30%)"
	[/{NAME}_frame]
#enddef
#define METEOR_FRAME_REVERSED NAME START_TIME X Y
	[{NAME}_frame]
		duration=1
		halo="misc/blank-hex.png"
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-1.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-2.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-3.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-4.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-5.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-6.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-7.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
		halo_mod="~O(80%)"
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-8.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
		halo_mod="~O(60%)"
	[/{NAME}_frame]
	[{NAME}_frame]
		duration=100
		halo="halo/meteor-9.png~FL(vert)"
		offset=0
		halo_x={X}
		halo_y={Y}
		halo_mod="~O(30%)"
	[/{NAME}_frame]

#enddef

#define MISSILE_FRAME_FIRESTORM
	{METEOR_FRAME_INIT missile1 -650 1 2}
	{METEOR_FRAME_INIT missile2 -550 -1 1}
	{METEOR_FRAME_INIT missile3 -450 1 -2}
	{METEOR_FRAME_INIT missile4 -250 -2 1}
	{METEOR_FRAME_INIT missile5 -150 1 0}
	{METEOR_FRAME_INIT missile6 -50 2 1}
	{METEOR_FRAME_INIT missile7 50 2 2}
	{METEOR_FRAME_INIT missile8 150 1 -1}
	{METEOR_FRAME_INIT missile9 250 -2 -2}
	{METEOR_FRAME_INIT missile10 350 0 2}
	{METEOR_FRAME_INIT missile11 450 2 0}
	[if]
		direction=n,ne,nw
		{METEOR_FRAME_NORMAL missile1 -450 35 -55}
		{METEOR_FRAME_NORMAL missile2 -425 -50 25}
		{METEOR_FRAME_NORMAL missile3 -400 60 -25}
		{METEOR_FRAME_NORMAL missile4 -375 -70 45}
		{METEOR_FRAME_NORMAL missile5 -350 35 -80}
		{METEOR_FRAME_NORMAL missile6 -325 40 60}
		{METEOR_FRAME_NORMAL missile7 -300 70 70}
		{METEOR_FRAME_NORMAL missile8 -275 25 -25}
		{METEOR_FRAME_NORMAL missile9 -250 -85 -50}
		{METEOR_FRAME_NORMAL missile10 -225 15 55}
		{METEOR_FRAME_NORMAL missile11 -200 25 100}
	[/if]
	[else]
		direction=s,se,sw
		{METEOR_FRAME_REVERSED missile1 -450 45 70}
		{METEOR_FRAME_REVERSED missile2 -425 -60 35}
		{METEOR_FRAME_REVERSED missile3 -400 45 -15}
		{METEOR_FRAME_REVERSED missile4 -375 -85 35}
		{METEOR_FRAME_REVERSED missile5 -350 95 -70}
		{METEOR_FRAME_REVERSED missile6 -325 50 80}
		{METEOR_FRAME_REVERSED missile7 -300 95 75}
		{METEOR_FRAME_REVERSED missile8 -275 20 -55}
		{METEOR_FRAME_REVERSED missile9 -250 -100 -50}
		{METEOR_FRAME_REVERSED missile10 -225 25 45}
		{METEOR_FRAME_REVERSED missile11 -200 50 -15}
	[/else]
#enddef
